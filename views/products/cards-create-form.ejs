<!DOCTYPE html>
<html lang="en">
   <head>
      <%- include('../partials/head')%>
      <link rel="stylesheet" href="/styles/detail/cards-form.css" />
   </head>
   <body>
      <%- include('../partials/navbar')%>
      <main class="form-body">
         <h1 class="card-form-title">Create a new media card</h1>
         <article>
            <form
               action="/cards/create"
               method="post"
               enctype="multipart/form-data"
               id="card-form"
               class="form"
            >
               <section>
                  <label for="genres">Genres</label>
                  <input
                     type="text"
                     id="genres"
                     name="genres"
                     placeholder="Horror, Science Fiction..."
                     value="<%= locals.oldData ? oldData.genres : null %>"
                  />
                  <div style="color: yellow">
                     <p class="error-genres field-feedback"></p>
                     <% if (locals.errors && errors.genres) { %>
                     <p class="errors"><%= errors.genres.msg %></p>
                     <% } %>
                  </div>
               </section>
               <section>
                  <label for="image">Image</label>
                  <input
                     type="file"
                     id="image"
                     name="image"
                     value="<%= locals.oldData ? oldData.image : null %>"
                  />
                  <div style="color: yellow">
                     <p class="error-image field-feedback"></p>
                     <% if (locals.errors && errors.image) { %>
                     <p class="errors"><%= errors.image.msg %></p>
                     <% } %>
                  </div>
               </section>
               <section>
                  <label for="link">Trailer link's</label>
                  <input
                     type="text"
                     id="link"
                     name="link"
                     placeholder="https://youtu.be/_cpXhGxGfgY?si=fW2-x4QxY6XfPMpR"
                     value="<%= locals.oldData ? oldData.link : null %>"
                  />
                  <div style="color: yellow">
                     <p class="error-link field-feedback"></p>
                     <% if (locals.errors && errors.link) { %>
                     <p class="errors"><%= errors.link.msg %></p>
                     <% } %>
                  </div>
               </section>
               <section>
                  <label for="rating">Rating</label>
                  <input
                     type="number"
                     id="rating"
                     name="rating"
                     placeholder="76"
                     value="<%= locals.oldData ? oldData.rating : null %>"
                  />
                  <div style="color: yellow">
                     <p class="error-rating field-feedback"></p>
                     <% if (locals.errors && errors.rating) { %>
                     <p class="errors"><%= errors.rating.msg %></p>
                     <% } %>
                  </div>
               </section>
               <section>
                  <label for="synopsis">Synopsis</label>
                  <input
                     type="text"
                     id="synopsis"
                     name="synopsis"
                     placeholder="A strange black entity from another world bonds with Peter Parker and causes inner turmoil as he contends with new villains, temptations, and revenge. Peter ..."
                     value="<%= locals.oldData ? oldData.synopsis : null %>"
                  />
                  <div style="color: yellow">
                     <p class="error-synopsis field-feedback"></p>
                     <% if (locals.errors && errors.synopsis) { %>
                     <p class="errors"><%= errors.synopsis.msg %></p>
                     <% } %>
                  </div>
               </section>
               <section>
                  <label for="title">Title</label>
                  <input
                     type="text"
                     id="title"
                     name="title"
                     placeholder="Batman"
                     value="<%= locals.oldData ? oldData.title : null %>"
                  />
                  <div style="color: yellow">
                     <p class="error-title field-feedback"></p>
                     <% if (locals.errors && errors.title) { %>
                     <p class="errors"><%= errors.title.msg %></p>
                     <% } %>
                  </div>
               </section>
               <section>
                  <label for="price">Price</label>
                  <input
                     type="text"
                     id="price"
                     name="price"
                     placeholder="0.99"
                     value="<%= locals.oldData ? oldData.price : null %>"
                  />
                  <div style="color: yellow">
                     <p class="error-price field-feedback"></p>
                     <% if (locals.errors && errors.price) { %>
                     <p class="errors"><%= errors.price.msg %></p>
                     <% } %>
                  </div>
               </section>
               <section>
                  <label for="category">Category</label>
                  <select name="category" id="category">
                     <option value="Movie">Movie</option>
                     <option value="Serie">Serie</option>
                  </select>
               </section>
               <div>
                  <button type="submit">Save card</button>
               </div>
            </form>
         </article>
      </main>
      <%- include('../partials/footer')%>
      <script src="/scripts/validationsCard.js"></script>
   </body>
</html>
